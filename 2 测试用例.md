# 测试用例

- 项目名称：火眼金睛无微不至测量系统
- 程序版本：V1.0

## 测试用例设计

### 功能测试

#### 1. 打开图像功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-01 | 验证打开JPG格式图像功能 | 系统启动 | 1.点击"打开图像"按钮 2.选择JPG格式图像文件 3.确认打开 | test.jpg | 图像成功显示在视图工作区 |
| F-02 | 验证打开BMP格式图像功能 | 系统启动 | 1.点击"打开图像"按钮 2.选择BMP格式图像文件 3.确认打开 | test.bmp | 图像成功显示在视图工作区 |
| F-03 | 验证打开TIF格式图像功能 | 系统启动 | 1.点击"打开图像"按钮 2.选择TIF格式图像文件 3.确认打开 | test.tif | 图像成功显示在视图工作区 |
| F-04 | 验证打开图像后状态栏更新 | 系统启动 | 1.打开一张图像 2.查看状态栏 | | 状态栏显示"未检测" |
| F-05 | 验证打开图像后工具栏状态 | 系统启动 | 1.打开一张图像 2.检查工具栏按钮状态 | | 图像缩放、自动标定、手动标定按钮可用；检测相关按钮禁用 |
| F-06 | 验证打开新图像清除原有检测结果 | 已打开图像并完成检测 | 1.打开新的图像 2.检查识别结果窗体 | | 识别结果窗体清空，包括检测图像和统计分析板块 |

#### 2. 删除图像功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-07 | 验证删除图像功能 | 已打开图像 | 1.点击"删除图像"按钮 | | 视图工作区图像被清除 |
| F-08 | 验证删除图像后状态栏更新 | 已打开图像并完成检测 | 1.删除图像 2.查看状态栏 | | 状态栏只显示开发商、测试项目名称、测试标准三个信息 |
| F-09 | 验证删除图像后识别结果窗体清空 | 已打开图像并完成检测 | 1.删除图像 2.查看识别结果窗体 | | 检测图像和统计分析两个板块全部清空 |
| F-10 | 验证删除图像后工具栏状态 | 已打开图像 | 1.删除图像 2.检查工具栏按钮状态 | | 图像相关按钮变灰不可用，系统栏按钮始终可用 |

#### 3. 数据清理功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-11 | 验证数据清理功能 | Temp文件夹有临时文件 | 1.点击"数据清理"按钮 2.等待清理完成 | | 显示进度提示窗体，清理完成后弹出提示窗体 |
| F-12 | 验证数据清理不删除正在使用的文件 | 系统正在使用某些临时文件 | 1.执行数据清理 | | 正在使用的临时文件保留，不再使用的垃圾文件被删除 |

#### 4. 图像缩放功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-13 | 验证适合窗体功能 | 已打开图像 | 1.点击"适合窗体"按钮 | | 图像等比缩放至高度正好为视图区高度 |
| F-14 | 验证实际大小功能 | 已打开图像 | 1.点击"实际大小"按钮 | | 图像以原始大小显示 |
| F-15 | 验证图像放大功能 | 已打开图像 | 1.点击"图像放大"按钮 | | 图像放大0.25倍 |
| F-16 | 验证图像放大最大限制 | 已打开图像 | 1.连续点击放大直到达到最大倍数 | | 最多放大至原图的10倍并提示 |
| F-17 | 验证图像缩小功能 | 已打开图像 | 1.点击"图像缩小"按钮 | | 图像缩小0.25倍 |
| F-18 | 验证图像缩小最小限制 | 已打开图像 | 1.连续点击缩小直到达到最小倍数 | | 最多缩小至原图的5%并提示 |
| F-19 | 验证鼠标滚轮缩放功能 | 已打开图像 | 1.按住CTRL向前滚动滚轮 2.按住CTRL向后滚动滚轮 | | 图像相应放大/缩小 |
| F-20 | 验证适合窗体高度功能 | 已打开图像 | 1.点击"适合窗体高度"按钮 | | 等同于适合窗体功能 |
| F-21 | 验证适合窗体宽度功能 | 已打开图像 | 1.点击"适合窗体宽度"按钮 | | 图像等比缩放至宽度正好为视图区宽度 |
| F-22 | 验证指定缩放比例功能 | 已打开图像 | 1.在缩放比例输入栏输入50 2.按回车 | 50 | 图像缩放至50% |
| F-23 | 验证缩放比例输入范围限制 | 已打开图像 | 1.输入超出5-1000范围的数值 2.按回车 | 2000 | 提示输入错误 |
| F-24 | 验证缩放时滚动条显示 | 已打开图像且勾选显示滚动条 | 1.放大图像至超出视图区域 | | 相应方向显示滚动条 |

#### 5. 自动标定功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-25 | 验证进入自动标定功能 | 已打开图像 | 1.点击"自动标定"按钮 | | 进入标定窗体，视图区显示待标定图像 |
| F-26 | 验证框选参照物功能 | 进入自动标定 | 1.鼠标拖动框选参照物 2.释放鼠标 | | 参照物周围显示红色矩形框，测量距离栏自动填入像素值 |
| F-27 | 验证输入实际距离 | 已框选参照物 | 1.在实际距离栏输入数值 | 10.5 | 接受输入，只允许数字和小数点 |
| F-28 | 验证计算比例尺功能 | 已输入实际距离 | 1.点击比例尺计算按钮 | | 自动计算并填入标定比例栏 |
| F-29 | 验证保存标定结果 | 已完成标定 | 1.点击保存按钮 | | 保存比例尺并返回主界面 |
| F-30 | 验证标定后检测功能可用 | 已完成并保存标定 | 1.返回主界面检查工具栏 | | 检测图像功能按钮变为可用 |
| F-31 | 验证不保存标定关闭窗体 | 已完成标定但未保存 | 1.直接关闭标定窗体 | | 标定结果不保存 |
| F-32 | 验证实际距离或测量距离为空时计算 | 进入自动标定 | 1.不输入实际距离直接点击计算 | | 提示错误 |

#### 6. 手动标定功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-33 | 验证进入手动标定功能 | 已打开图像 | 1.点击"手动标定"按钮 | | 进入标定窗体 |
| F-34 | 验证画线标定功能 | 进入手动标定 | 1.鼠标拖动画一条直线 2.释放鼠标 | | 图像上显示蓝色线段，测量距离栏自动填入像素值 |
| F-35 | 验证手动标定保存功能 | 已完成手动标定 | 1.输入实际距离 2.计算比例尺 3.保存 | | 保存标定结果并返回主界面 |

#### 7. 项目信息设置功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-36 | 验证项目信息设置窗体打开 | 系统启动 | 1.点击"项目信息"按钮 | | 弹出项目信息设置窗体 |
| F-37 | 验证项目名称输入非空校验 | 进入项目信息设置 | 1.清空项目名称 2.尝试离开输入栏 | | 提示"[项目名称]不能为空"，光标无法离开 |
| F-38 | 验证项目名称最大长度限制 | 进入项目信息设置 | 1.输入超过255个字符 | | 提示"[项目名称]最多只能输入255个字符" |
| F-39 | 验证产品批号输入非空校验 | 进入项目信息设置 | 1.清空产品批号 2.尝试离开输入栏 | | 提示"[产品批号]不能为空" |
| F-40 | 验证测试日期校验 | 进入项目信息设置 | 1.输入未来日期 | 2099-12-31 | 提示"测试日期不能迟于今日" |
| F-41 | 验证测试人员可为空 | 进入项目信息设置 | 1.清空测试人员 2.保存 | | 保存成功 |
| F-42 | 验证送检公司可为空 | 进入项目信息设置 | 1.清空送检公司 2.保存 | | 保存成功 |
| F-43 | 验证Tab键切换顺序 | 进入项目信息设置 | 1.连续按Tab键 | | 按顺序切换：项目名称→产品批号→测试日期→测试人员→送检公司→确定→取消 |
| F-44 | 验证F1帮助功能 | 光标在某输入栏 | 1.按F1键 | | 弹窗显示该输入栏的输入规则 |
| F-45 | 验证保存后状态栏更新 | 修改项目名称并保存 | 1.修改项目名称 2.保存 | | 状态栏更新显示新项目名称 |

#### 8. 测试标准设置功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-46 | 验证测试标准设置窗体打开 | 系统启动 | 1.点击"测试标准"按钮 | | 弹出测试标准设置窗体 |
| F-47 | 验证测试标准名称非空校验 | 进入测试标准设置 | 1.清空测试标准名称 | | 提示"[测试标准名称]不能为空" |
| F-48 | 验证图像宽度输入范围 | 进入测试标准设置 | 1.输入超过220的数值 | 300 | 自动转为220 |
| F-49 | 验证图像高度输入范围 | 进入测试标准设置 | 1.输入超过220的数值 | 300 | 自动转为220 |
| F-50 | 验证测量规格设置入口 | 进入测试标准设置 | 1.点击"测量规格"按钮 | | 进入测量规格设置窗体 |
| F-51 | 验证添加测量规格 | 进入测量规格设置 | 1.点击"添加"按钮 2.填写规格信息 3.确定 | | 新规格添加到列表 |
| F-52 | 验证编辑测量规格 | 进入测量规格设置 | 1.双击某条记录 2.修改信息 3.确定 | | 规格信息更新 |
| F-53 | 验证删除测量规格 | 进入测量规格设置 | 1.选中记录 2.点击"删除"按钮 3.确认删除 | | 选中的规格被删除 |
| F-54 | 验证最小直径不大于最大直径 | 编辑测量规格 | 1.设置最小直径大于最大直径 2.确定 | 最小:100, 最大:50 | 提示错误 |
| F-55 | 验证测量规格保存顺序检查 | 修改测量规格 | 1.设置不按直径从小到大顺序 2.保存 | | 提示顺序错误 |
| F-56 | 验证保存后状态栏更新 | 修改测试标准并保存 | 1.修改测试标准名称 2.保存 | | 状态栏更新测试标准名称 |
| F-57 | 验证保存后统计分析更新 | 已有检测结果时修改测量规格 | 1.修改测量规格 2.保存 | | 统计分析按新规格重新分类 |

#### 9. 打印设置功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-58 | 验证打印设置窗体打开 | 系统启动 | 1.点击"打印设置"按钮 | | 弹出打印设置窗体 |
| F-59 | 验证报表标题非空校验 | 进入打印设置 | 1.清空报表标题 | | 提示"[报表标题]不能为空" |
| F-60 | 验证报表标题最大长度 | 进入打印设置 | 1.输入超过255个字符 | | 提示"[报表标题]最多只能输入255个字符" |
| F-61 | 验证页眉可为空 | 进入打印设置 | 1.清空页眉 2.保存 | | 保存成功 |
| F-62 | 验证页脚可为空 | 进入打印设置 | 1.清空页脚 2.保存 | | 保存成功 |
| F-63 | 验证图像宽度范围 | 进入打印设置 | 1.输入超出120-580范围的值 | 1000 | 自动转为580 |
| F-64 | 验证图像高度范围 | 进入打印设置 | 1.输入超出120-800范围的值 | 1000 | 自动转为800 |
| F-65 | 验证页面上边沿范围 | 进入打印设置 | 1.输入超出0-400范围的值 | 500 | 自动转为400 |
| F-66 | 验证页面下边沿范围 | 进入打印设置 | 1.输入超出0-400范围的值 | 500 | 自动转为400 |
| F-67 | 验证页面侧边距范围 | 进入打印设置 | 1.输入超出0-400范围的值 | 500 | 自动转为400 |
| F-68 | 验证Tab键切换顺序 | 进入打印设置 | 1.连续按Tab键 | | 按规定顺序切换 |

#### 10. 打印预览功能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| F-69 | 验证打印预览窗体打开 | 已完成检测 | 1.点击"打印预览"按钮 | | 显示检测结果报表预览 |
| F-70 | 验证保存报表功能 | 进入打印预览 | 1.点击"保存"按钮 2.输入文件名 3.保存 | report.pdf | 报表保存到指定路径 |
| F-71 | 验证覆盖已有文件确认 | 保存文件时同名文件存在 | 1.保存时选择已存在的文件名 | | 弹窗确认是否覆盖 |
| F-72 | 验证跳转到指定页面 | 多页报表 | 1.在页面栏输入页码 | 3 | 跳转到第3页 |
| F-73 | 验证前页功能 | 非第一页 | 1.点击"前页"按钮 | | 显示前一页内容 |
| F-74 | 验证后页功能 | 非最后一页 | 1.点击"后页"按钮 | | 显示后一页内容 |
| F-75 | 验证第一页时前页按钮禁用 | 显示第一页 | 1.观察前页按钮状态 | | 前页按钮变灰禁用 |
| F-76 | 验证最后一页时后页按钮禁用 | 显示最后一页 | 1.观察后页按钮状态 | | 后页按钮变灰禁用 |
| F-77 | 验证报表放大功能 | 进入打印预览 | 1.点击"放大"按钮 | | 报表放大1.2倍 |
| F-78 | 验证报表放大最大限制 | 进入打印预览 | 1.连续放大至最大 | | 最多放大至5倍，放大按钮禁用 |
| F-79 | 验证报表缩小功能 | 进入打印预览 | 1.点击"缩小"按钮 | | 报表缩小1.2倍 |
| F-80 | 验证报表缩小最小限制 | 进入打印预览 | 1.连续缩小至最小 | | 最多缩小至0.5倍，缩小按钮禁用 |
| F-81 | 验证无检测结果时报表显示 | 未检测到物体 | 1.打印预览 | | 显示无检测结果的报表 |
| F-82 | 验证关闭功能 | 进入打印预览 | 1.点击"关闭"按钮 | | 结束打印预览返回主界面 |

### 性能测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| P-01 | 测试小图像处理速度 | 系统就绪，已完成标定 | 1.打开小尺寸图像 2.执行检测 3.记录处理时间 | 800x600像素图像 | 记录处理时间 |
| P-02 | 测试中等图像处理速度 | 系统就绪，已完成标定 | 1.打开中等尺寸图像 2.执行检测 3.记录处理时间 | 2000x1500像素图像 | 记录处理时间 |
| P-03 | 测试大图像处理速度 | 系统就绪，已完成标定 | 1.打开大尺寸图像 2.执行检测 3.记录处理时间 | 4000x3000像素图像 | 记录处理时间 |
| P-04 | 测试最大8000x8000图像处理速度 | 系统就绪，已完成标定 | 1.打开8000x8000像素图像 2.执行检测 3.记录处理时间 | 8000x8000像素图像 | 记录处理时间 |
| P-05 | 测试少量目标检测速度 | 系统就绪，已完成标定 | 1.打开含少量目标的图像 2.执行检测 3.记录处理时间 | 含10个目标的图像 | 记录处理时间 |
| P-06 | 测试中等数量目标检测速度 | 系统就绪，已完成标定 | 1.打开含中等数量目标的图像 2.执行检测 3.记录处理时间 | 含100个目标的图像 | 记录处理时间 |
| P-07 | 测试大量目标检测速度 | 系统就绪，已完成标定 | 1.打开含大量目标的图像 2.执行检测 3.记录处理时间 | 含500个目标的图像 | 记录处理时间 |

### 健壮性测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| R-01 | 测试打开损坏图像文件 | 系统启动 | 1.尝试打开损坏的图像文件 | 损坏的jpg文件 | 系统正确提示错误，不崩溃 |
| R-02 | 测试打开非图像文件 | 系统启动 | 1.尝试打开非图像格式文件 | test.txt | 系统正确提示错误或过滤 |
| R-03 | 测试打开0字节图像文件 | 系统启动 | 1.尝试打开空文件 | 0字节的图像文件 | 系统正确处理，不崩溃 |
| R-04 | 测试打开超大图像文件 | 系统启动 | 1.尝试打开超大尺寸图像 | 10000x10000像素图像 | 系统正确处理或提示 |
| R-05 | 测试输入边界值-最小直径为0 | 进入测量规格编辑 | 1.输入最小直径为0 | 0 | 正确接受或提示边界 |
| R-06 | 测试输入边界值-最大直径极大值 | 进入测量规格编辑 | 1.输入最大直径为999999999.9999 | 999999999.9999 | 正确处理 |
| R-07 | 测试输入非法字符 | 进入项目信息设置 | 1.在项目名称输入特殊字符 | <script>alert(1)</script> | 正确处理特殊字符 |
| R-08 | 测试实际距离输入非数字 | 进入标定功能 | 1.在实际距离栏输入字母 | abc | 禁止输入或正确提示 |
| R-09 | 测试缩放比例输入负数 | 已打开图像 | 1.在缩放比例栏输入负数 | -50 | 正确提示错误 |
| R-10 | 测试快速连续点击按钮 | 系统就绪 | 1.快速连续点击同一按钮多次 | | 系统稳定运行不崩溃 |
| R-11 | 测试同时打开多个对话框 | 系统就绪 | 1.尝试同时打开多个设置窗体 | | 系统正确处理 |
| R-12 | 测试在检测过程中删除图像 | 正在执行检测 | 1.在检测过程中尝试删除图像 | | 系统正确处理或禁止操作 |
| R-13 | 测试磁盘空间不足时保存 | 磁盘空间不足 | 1.尝试保存报表 | | 正确提示错误 |
| R-14 | 测试只读路径保存文件 | 进入打印预览 | 1.尝试保存到只读路径 | C:\Windows\ | 正确提示错误 |

### 兼容性测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| C-01 | 测试Windows 10系统兼容性 | Windows 10电脑 | 1.安装并运行系统 2.执行主要功能 | | 所有功能正常运行，界面显示正确 |
| C-02 | 测试Windows 11系统兼容性 | Windows 11电脑 | 1.安装并运行系统 2.执行主要功能 | | 所有功能正常运行，界面显示正确 |
| C-03 | 测试不同分辨率-1920x1080 | 分辨率1920x1080 | 1.运行系统 2.检查界面显示 | | 界面显示完整正确 |
| C-04 | 测试不同分辨率-1366x768 | 分辨率1366x768 | 1.运行系统 2.检查界面显示 | | 界面显示完整正确 |
| C-05 | 测试不同分辨率-2560x1440 | 分辨率2560x1440 | 1.运行系统 2.检查界面显示 | | 界面显示完整正确 |
| C-06 | 测试不同DPI设置-100% | DPI缩放100% | 1.运行系统 2.检查界面显示 | | 界面显示完整正确 |
| C-07 | 测试不同DPI设置-125% | DPI缩放125% | 1.运行系统 2.检查界面显示 | | 界面显示完整正确 |
| C-08 | 测试不同DPI设置-150% | DPI缩放150% | 1.运行系统 2.检查界面显示 | | 界面显示完整正确 |
| C-09 | 测试JPG格式图像兼容性 | 系统就绪 | 1.打开JPG图像 2.执行检测 | 不同来源的JPG图像 | 正确处理 |
| C-10 | 测试BMP格式图像兼容性 | 系统就绪 | 1.打开BMP图像 2.执行检测 | 不同位深度的BMP图像 | 正确处理 |
| C-11 | 测试TIF格式图像兼容性 | 系统就绪 | 1.打开TIF图像 2.执行检测 | 不同压缩方式的TIF图像 | 正确处理 |
| C-12 | 测试PNG格式图像兼容性 | 系统就绪 | 1.打开PNG图像 2.执行检测 | PNG格式图像 | 正确处理或提示不支持 |
| C-13 | 测试第二台电脑运行 | 另一台配置不同的电脑 | 1.安装并运行系统 2.执行主要功能 | | 所有功能正常运行 |

### UI测试

| 编号 | 测试目的 | 前提 | 步骤 | 测试数据 | 期望结果 |
| :--- | -------- | ---- | ---- | -------- | -------- |
| U-01 | 验证主界面布局正确性 | 系统启动 | 1.观察主界面布局 | | 工具栏、视图区、状态栏、识别结果窗体位置正确 |
| U-02 | 验证菜单栏功能正确性 | 系统启动 | 1.点击各菜单项 | | 菜单项正确展开和响应 |
| U-03 | 验证工具栏图标显示 | 系统启动 | 1.观察工具栏按钮图标 | | 图标清晰正确显示 |
| U-04 | 验证按钮禁用状态显示 | 未打开图像 | 1.观察图像相关按钮 | | 禁用按钮正确显示为灰色 |
| U-05 | 验证状态栏信息显示 | 系统运行中 | 1.观察状态栏信息 | | 显示开发商、项目名称、测试标准等信息 |
| U-06 | 验证对话框窗体显示 | 打开各设置窗体 | 1.打开项目信息、测试标准等窗体 | | 窗体大小固定，不可缩放 |
| U-07 | 验证输入错误提示显示 | 输入错误数据 | 1.在必填项留空 2.观察提示 | | 红色闪烁感叹号和错误提示正确显示 |
| U-08 | 验证滚动条显示正确性 | 图像超出视图区域 | 1.放大图像 2.观察滚动条 | | 滚动条正确显示和隐藏 |
| U-09 | 验证鼠标双击物体弹窗 | 已完成检测 | 1.双击图像中某个物体 | | 弹窗显示该物体的直径和面积 |
| U-10 | 验证检测图像列表显示 | 已完成检测 | 1.观察检测图像板块 | | 正确显示所有检测出的物体图像及直径 |
| U-11 | 验证统计分析显示 | 已完成检测 | 1.观察统计分析板块 | | 正确显示各级别物体数量统计 |
| U-12 | 验证快速访问工具栏 | 系统启动 | 1.使用快速访问工具栏 | | 快速访问功能正确可用 |
| U-13 | 验证标定窗体可缩放 | 进入标定功能 | 1.尝试调整标定窗体大小 | | 窗体可正确缩放 |
| U-14 | 验证打印预览窗体可缩放 | 进入打印预览 | 1.尝试调整窗体大小 | | 窗体可正确缩放和拖动 |
| U-15 | 验证右键菜单功能 | 进入打印预览 | 1.右击视图区 | | 正确显示右键菜单选项 |

